# The block index is multiplied with the channels to get out_channels
block_index: 1
channels: 512

sequence: [conv1, activation, norm1, conv2, activation, norm2,
           conv3, activation, norm3, conv4, activation, norm4,
           conv5, activation, norm5]

conv1: !new:speechbrain.nnet.CNN.Conv
    out_channels: !ref <block_index> * <channels>
    kernel_size: 5
    dilation: [1]

norm1: !new:speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv2: !new:speechbrain.nnet.CNN.Conv
    out_channels: !ref <block_index> * <channels>
    kernel_size: 3
    dilation: [2]

norm2: !new:speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv3: !new:speechbrain.nnet.CNN.Conv
    out_channels: !ref <block_index> * <channels>
    kernel_size: 3
    dilation: [3]

norm3: !new:speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv4: !new:speechbrain.nnet.CNN.Conv
    out_channels: !ref <block_index> * <channels>
    kernel_size: 1

norm4: !new:speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv5: !new:speechbrain.nnet.CNN.Conv
    out_channels: !ref <block_index> * 1500
    kernel_size: 1

norm5: !new:speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

activation: !new:torch.nn.LeakyReLU
