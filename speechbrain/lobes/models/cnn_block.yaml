# The block index is multiplied with the channels to get out_channels
block_index: 1
channels: 128
kernel_size: !!python/tuple [3, 3]
sequence: [conv1, norm1, activation, conv2, norm2, activation, pooling, dropout]

conv1: !speechbrain.nnet.CNN.conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: !ref <kernel_size>

norm1: !speechbrain.nnet.normalization.normalize
    norm_type: batchnorm

conv2: !speechbrain.nnet.CNN.conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: !ref <kernel_size>

norm2: !speechbrain.nnet.normalization.normalize
    norm_type: batchnorm

activation: !torch.nn.LeakyReLU

pooling: !speechbrain.nnet.pooling.pooling
    pool_type: max
    kernel_size: 2
    stride: 2

dropout: !speechbrain.nnet.dropout.dropout
    drop_rate: 0.15
